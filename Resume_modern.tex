%----------------------------------------------------------------------------------------
%	DOCUMENT CONFIGURATION
%----------------------------------------------------------------------------------------
\documentclass[11pt]{article}           % Main text size is 11pt

% Page margin setup
\usepackage[a4paper,                    % Paper size (use letterpaper for US resumes)
            top=1.27cm,                 % Top margin
            bottom=1.27cm,              % Bottom margin
            left=1.27cm,                % Left margin
            right=1.27cm                % Right margin
           ]{geometry}

%----------------------------------------------------------------------------------------
%	FONTS AND ENCODING
%----------------------------------------------------------------------------------------
% Set font to Helvetica (Sans-Serif) for a modern, clean look
\usepackage[scaled]{helvet}           
  % Helvetica font package (scaled)
\renewcommand\familydefault{\sfdefault} % Use sans-serif as default font family
\usepackage[T1]{fontenc}                % Output font encoding (important for special chars)
\usepackage[utf8]{inputenc}             % Input encoding (UTF-8)
\usepackage{moresize}                 % Provides \HUGE and other size commands for the header

%----------------------------------------------------------------------------------------
%	PACKAGES
%----------------------------------------------------------------------------------------
\usepackage{xcolor}                     % Required for custom colors
\usepackage[explicit]{titlesec}         % Allows advanced section title formatting
\usepackage{graphicx}                   % Enables image inclusion
\usepackage{enumitem}                   % Customizes lists (bullet points)
\usepackage[hidelinks]{hyperref}        % Enables clickable links without ugly borders
\usepackage{amsmath}                    % Mathematical symbols (if needed)

%----------------------------------------------------------------------------------------
%	GLOBAL PAGE STYLES
%----------------------------------------------------------------------------------------
\raggedright                            % Disable text justification (better for columns/CVs)
\pagestyle{empty}                       % Disable page numbering

% Ensure PDF output is machine-readable (ATS friendly)
\input{glyphtounicode}
\pdfgentounicode=1

%----------------------------------------------------------------------------------------
%	CUSTOM COLORS
%----------------------------------------------------------------------------------------
% Define the background color for section headers using RGB values
\definecolor{cvsectioncolor}{RGB}{218, 226, 244} 

%----------------------------------------------------------------------------------------
%	SECTION FORMATTING
%----------------------------------------------------------------------------------------
% Format the section headers with a full-width colored background box
\titleformat{\section}
  {\bfseries\large}    
       % Font styling: Bold and Large
  {}                          % Label: Empty (removes numbering like "1.")
  {0pt}                       % Separation: No space between label and title
  {%
    % RESET PADDING:
    % \fboxsep controls the space between the colored box edge and the text inside.
    % We set it to 0pt to remove the default gap.
    % This ensures the text inside aligns perfectly with the left margin of the document, not indented.
    \setlength{\fboxsep}{0pt}%
    %
    % CREATE COLORED BOX:
    \colorbox{cvsectioncolor}{%
      % CREATE PARAGRAPH BOX:
      % Since we removed padding, we can simply set the width to \textwidth.
      % This forces the colored bar to span the entire page width.
      \parbox{\textwidth}{%
        \vspace{2pt}%  PADDING TOP: Adds a small vertical buffer above the text
        \MakeUppercase{#1}% THE TITLE: The actual section name (e.g., "EXPERIENCE")
        \vspace{2pt}%  PADDING BOTTOM: Adds a small vertical buffer below the text
      }%
    }%
  }
  []                          % After-code: Empty (no content after the section title)

% Adjust spacing around sections: {Command}{Left Indent}{Space Before}{Space After}
\titlespacing*{\section}
  {0pt}   % Left Indent: 0pt keeps it aligned with the left margin
  {7pt}   % Space Before: The vertical gap above the colored box
  {4pt}   % Space After: The vertical gap between the colored box and the text below

%----------------------------------------------------------------------------------------
%	LIST/BULLET POINT FORMATTING
%----------------------------------------------------------------------------------------
% Redefine the symbol for the first level of itemized lists (Change the bullet point symbol)
\renewcommand\labelitemi{%
  % Enter math mode ($...$) to use vertical centering tools
  $%
    \vcenter{%         
     % Vertically align the content inside to the math axis (center of line)
      \hbox{%              % Create a horizontal box to hold the text/symbol
        \small             % Make the bullet slightly smaller than the text for a cleaner look
        $\bullet$%         % The actual bullet symbol
      }%
    }%
  $%
}

% Global settings for itemize lists (tighten spacing). Requires: \usepackage{enumitem}
\setlist[itemize]{
  itemsep=-2pt,    % Vertical space BETWEEN items. Negative value pulls items closer together (compact).
  leftmargin=25pt, % Horizontal indent from the left edge of the text area.
  topsep=3pt       % Vertical space ABOVE the first item (separation from the paragraph above).
}
%----------------------------------------------------------------------------------------
%	MAIN DOCUMENT
%----------------------------------------------------------------------------------------
\begin{document}

% --- HEADER SECTION ---
% The header uses two "minipages" to put text and photo side-by-side.
\noindent % Prevents paragraph indentation which could push the boxes off-center
\begin{minipage}[t]{0.75\textwidth} % LEFT BOX: Occupies 75% of page width. [t] = Top align
    \vspace{0pt} % CRITICAL: A dummy anchor to ensure the top baseline matches the image box
    \begin{flushleft}
        {\HUGE \textbf{Muhammad Al-Khwarizmi}} \\
        \vspace{8pt} % Space between Name and Contact Info
        \small       % Smaller font for contact details

        Baghdad, Abbasid Caliphate $|$ +964 000 12345 $|$ \href{mailto:scholar@houseofwisdom.iq}{scholar@houseofwisdom.iq} \\
       \href{https://en.wikipedia.org/wiki/Al-Khwarizmi}{wikipedia.org/wiki/Al-Khwarizmi} $|$ \href{https://github.com/father-of-algebra}{github.com/father-of-algebra}


    \end{flushleft}
\end{minipage}%
\hfill % Pushes the two minipages apart (fills empty space between them)
\begin{minipage}[t]{0.23\textwidth} % RIGHT BOX: Occupies 23% of page width.
\vspace{0pt} % CRITICAL: Dummy anchor to match the left box's alignment
    \raggedleft  % Forces the image to align to the right edge of this box
    \includegraphics[width=3cm]{Photo/Muḥammad_ibn_Mūsā_al-Khwārizmī.png}
\end{minipage}

\vspace{1pt} % Fine-tuning the gap between Header and the first Section
% \hrule % Optional: Adds a horizontal line separator

% --- CONTENT SECTIONS ---
% Modular structure: Loads content from separate .tex files in a "Sections" folder.
% This keeps the main.tex file clean and easy to manage.

% \input{Sections/Objective.tex}
\input{Sections/Education}
\input{Sections/Experience}
\input{Sections/Projects}
\input{Sections/Skills}
\input{Sections/Interests}

\end{document}